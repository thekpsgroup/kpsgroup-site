---
import { BUSINESS } from '../data/constants';
import { CITIES } from '../data/constants';
import { slugify } from '../utils/slug';

const currentYear = new Date().getFullYear();
const topCities = CITIES.slice(0, 8).sort();
---

<footer class="bg-gray-900 border-t border-goldDark/30 text-gray-300" role="contentinfo">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 lg:px-12 py-12 sm:py-16">
    <!-- Main Footer Content -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 sm:gap-8 lg:gap-6 mb-8 sm:mb-12">
      
      <!-- Company Info -->
      <div class="space-y-4 sm:col-span-2 lg:col-span-1">
        <div class="flex items-center gap-2 sm:gap-3 mb-4 sm:mb-6">
          <img
            src="/logos/the-kps-group.png"
            alt={`${BUSINESS.brand} logo`}
            class="h-6 sm:h-8 w-auto"
            loading="lazy"
          />
          <span class="text-lg sm:text-xl font-bold text-goldLight">{BUSINESS.brand}</span>
        </div>
        <p class="text-sm text-gray-400 leading-relaxed">
          {BUSINESS.blurb}
        </p>
        <div class="flex items-center gap-4 pt-2">
          <a 
            href="https://www.facebook.com/OGKPSGroup" 
            target="_blank" 
            rel="noopener noreferrer"
            class="text-gray-400 hover:text-gold transition-colors p-2 hover:bg-gold/10 rounded-lg focus:ring-2 focus:ring-gold focus:ring-offset-2 focus:ring-offset-gray-900 focus:outline-none"
            aria-label="Follow us on Facebook (opens in new window)"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
            </svg>
          </a>
        </div>
      </div>

      <!-- Our Companies -->
      <nav aria-labelledby="companies-heading">
        <h4 id="companies-heading" class="text-white font-semibold mb-3 sm:mb-4">Our Companies</h4>
        <ul class="space-y-3 text-sm">
          <li>
            <a href="https://modernpay.co" target="_blank" rel="noopener noreferrer" class="hover:text-gold transition-colors block focus:ring-2 focus:ring-gold focus:ring-offset-2 focus:ring-offset-gray-900 focus:outline-none rounded" aria-label="Modern Pay (opens in new window)">
              <span class="font-medium text-goldLight">Modern Pay</span>
              <p class="text-xs text-gray-400 mt-1">Payroll, HR compliance, and white-labeled PEO infrastructure</p>
            </a>
          </li>
          <li>
            <a href="https://thekpsgroup.com/services/quickbooks-consulting" class="hover:text-gold transition-colors block">
              <span class="font-medium text-goldLight">KPS Financial Advisory</span>
              <p class="text-xs text-gray-400 mt-1">QuickBooks optimization, financial management, and controller services</p>
            </a>
          </li>
          <li>
            <a href="https://thekpsgroup.com/services/branding" class="hover:text-gold transition-colors block">
              <span class="font-medium text-goldLight">KPS Brand Development</span>
              <p class="text-xs text-gray-400 mt-1">Professional branding and workforce leadership positioning</p>
            </a>
          </li>
          <li>
            <a href="https://thekpsgroup.com/services" class="hover:text-gold transition-colors block">
              <span class="font-medium text-goldLight">KPS Technology Solutions</span>
              <p class="text-xs text-gray-400 mt-1">IT support, software integration, and business systems optimization</p>
            </a>
          </li>
          <li>
            <a href="https://modernconsulting.co" target="_blank" rel="noopener noreferrer" class="hover:text-gold transition-colors block">
              <span class="font-medium text-goldLight">Modern Consulting</span>
              <p class="text-xs text-gray-400 mt-1">Pragmatic operational consulting with uncomfortable truths and real results</p>
            </a>
          </li>
          <li>
            <div class="block opacity-75">
              <span class="font-medium text-goldLight">Modern OS</span>
              <p class="text-xs text-gray-400 mt-1">All-in-one ERP/CRM/FSM platform - Coming Soon</p>
            </div>
          </li>
        </ul>
      </div>

      <!-- Company -->
      <div>
        <h4 class="text-white font-semibold mb-3 sm:mb-4">Company</h4>
        <ul class="space-y-2 sm:space-y-3 text-sm">
          <li><a href="/" class="hover:text-gold transition-colors py-1 block">Home</a></li>
          <li><a href="/about" class="hover:text-gold transition-colors py-1 block">About</a></li>
          <li><a href="/#companies" class="hover:text-gold transition-colors py-1 block">Our Companies</a></li>
          <li><a href="/contact" class="hover:text-gold transition-colors py-1 block">Contact</a></li>
        </ul>
      </div>

      <!-- Contact -->
      <div>
        <h4 class="text-white font-semibold mb-3 sm:mb-4">Get In Touch</h4>
        <div class="space-y-3 text-sm">
          <div>
            <p class="text-gray-400 text-xs sm:text-sm">Phone</p>
            <a 
              href="tel:4695343392" 
              class="text-goldLight hover:text-gold transition-colors font-medium block py-1"
            >
              {BUSINESS.phone}
            </a>
          </div>
          <div>
            <p class="text-gray-400 text-xs sm:text-sm">Email</p>
            <a 
              href="mailto:sales@thekpsgroup.com" 
              class="text-goldLight hover:text-gold transition-colors font-medium block py-1 break-all"
            >
              {BUSINESS.email}
            </a>
          </div>
          <div>
            <p class="text-gray-400 text-xs sm:text-sm">Hours</p>
            <p class="text-goldLight">{BUSINESS.hours}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Bar -->
    <div class="border-t border-gray-700 pt-6 sm:pt-8">
      <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
        <div class="text-xs sm:text-sm text-gray-400 text-center sm:text-left">
          Â© {currentYear} {BUSINESS.name}. All rights reserved.
        </div>
        <div class="flex items-center gap-4 sm:gap-6 text-xs sm:text-sm">
          <a href="/privacy-policy" class="text-gray-400 hover:text-gold transition-colors py-2">
            Privacy Policy
          </a>
          <a href="/terms-of-service" class="text-gray-400 hover:text-gold transition-colors py-2">
            Terms of Service
          </a>
        </div>
      </div>
    </div>
  </div>
</footer>
