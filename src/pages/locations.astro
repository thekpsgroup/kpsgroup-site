---
import BaseLayout from '../layouts/BaseLayout.astro';
import { CITIES } from '../data/constants';
import { getCountyForCity, getZipCodesForCity } from '../utils/geodata';
import { slugify } from '../utils/slug';

const title = 'Service Areas | Elite Workforce Leadership & Business Infrastructure | The KPS Group';
const description =
  'The KPS Group serves organizations across all 50 states with comprehensive workforce leadership, PEO services, and business infrastructure solutions from our Austin headquarters. National impact, local understanding.';
const canonical = 'https://thekpsgroup.com/locations';
---
<Fragment slot="head">
  <title>{title}</title>
  <meta name="description" content={description} />
  <link rel="canonical" href={canonical} />

  <script type="application/ld+json">
    {JSON.stringify({
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      name: "The KPS Group Service Areas",
      description:
        "Comprehensive workforce leadership and business infrastructure services provided by The KPS Group across all 50 states.",
      url: canonical,
      hasPart: CITIES.map((city) => ({
        "@type": "LocalBusiness",
        name: "The KPS Group",
        areaServed: city,
        url: `https://thekpsgroup.com/${slugify(city)}`
      }))
    })}
  </script>
</Fragment>

<BaseLayout {title} {description}>
  <section class="py-20 sm:py-32 px-6 max-w-6xl mx-auto min-h-screen bg-black">
    <!-- Background decoration -->
    <div class="absolute inset-0 bg-gradient-to-br from-gold/3 via-transparent to-goldLight/3 rounded-3xl"></div>
    <div class="absolute top-1/4 right-1/4 w-96 h-96 bg-gold/2 rounded-full blur-3xl"></div>
    
    <div class="relative z-10">
      <!-- Enhanced header -->
      <div class="text-center mb-12 sm:mb-16">
        <div class="inline-flex items-center gap-2 bg-gradient-to-r from-gold/10 to-goldLight/10 border border-gold/30 rounded-full px-4 sm:px-6 py-2 sm:py-3 mb-6 backdrop-blur-sm">
          <div class="w-2 h-2 bg-gold rounded-full animate-pulse"></div>
          <span class="text-sm sm:text-base font-medium text-gold">Serving North Texas</span>
        </div>
        
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-goldLight mb-6 sm:mb-8 leading-tight animate-fade-in">
          Service Areas
        </h1>
        <p class="text-lg sm:text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed">
          Providing premium logo design, website development, and branding services across the Dallas-Fort Worth metroplex and surrounding areas.
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8">
        {CITIES.sort().map((city, index) => {
          const slug = slugify(city);
          const county = getCountyForCity(city);
          const zips = getZipCodesForCity(city);

          return (
            <div
              class="group block bg-gradient-to-br from-gray-900/80 to-gray-800/80 border border-goldDark/30 rounded-2xl p-6 hover:border-gold/50 hover:from-gray-900/90 hover:to-gray-800/90 transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-gold/10 animate-slide-in-left backdrop-blur-sm"
              style={`animation-delay: ${index * 0.1}s`}
            >
              <div class="flex items-start justify-between mb-4">
                <div class="flex-1">
                  <h2 class="text-xl sm:text-2xl font-bold text-goldLight group-hover:text-gold transition-colors duration-300 mb-2">{city}</h2>
                  {county && (
                    <p class="text-sm text-goldLight/80 group-hover:text-gold/80 transition-colors duration-300">{county} County</p>
                  )}
                </div>
                <div class="bg-gold/20 p-2 rounded-lg group-hover:bg-gold/30 transition-colors duration-300">
                  <svg class="w-4 h-4 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                </div>
              </div>
              
              {zips && (
                <div class="border-t border-gray-700/50 pt-3">
                  <p class="text-xs text-gold/60 group-hover:text-gold/80 transition-colors duration-300">
                    ZIP Codes: {zips.join(', ')}
                  </p>
                </div>
              )}
              
              <div class="mt-4 flex flex-col gap-2">
                <a 
                  href="/services"
                  class="inline-flex items-center text-gold/80 hover:text-gold transition-colors duration-300 text-sm font-medium"
                >
                  <span>View All Services</span>
                  <svg class="w-3 h-3 ml-1 group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                </a>
                <a 
                  href={`/${slug}`}
                  class="inline-flex items-center text-gold/60 hover:text-gold/80 transition-colors duration-300 text-xs"
                >
                  <span>Local {city} Info</span>
                  <svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                  </svg>
                </a>
              </div>
            </div>
          );
        })}
      </div>
      
      <!-- Call to action section -->
      <div class="mt-16 sm:mt-20 text-center">
        <div class="bg-gradient-to-r from-gray-900/90 to-gray-800/90 border border-goldDark/30 rounded-2xl p-8 sm:p-12 backdrop-blur-sm relative overflow-hidden">
          <!-- Urgency indicator -->
          <div class="absolute top-4 right-4 bg-red-500 text-white text-xs px-2 py-1 rounded-full animate-pulse">
            Limited Time
          </div>
          
          <h3 class="text-2xl sm:text-3xl font-bold text-goldLight mb-4">Ready to Transform Your Organization?</h3>
          <p class="text-gray-300 mb-6 text-lg max-w-2xl mx-auto">
            Join 300+ organizations nationwide who've achieved workforce excellence with The KPS Group. Free consultation included.
          </p>

          <!-- Benefits for local businesses -->
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 text-sm">
            <div class="flex items-center justify-center gap-2 text-green-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span>Local SEO Optimization</span>
            </div>
            <div class="flex items-center justify-center gap-2 text-green-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span>48-Hour Turnaround</span>
            </div>
            <div class="flex items-center justify-center gap-2 text-green-400">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span>Texas-Based Team</span>
            </div>
          </div>

          <!-- Social proof -->
          <div class="mb-6">
            <div class="flex items-center justify-center gap-1 mb-2">
              {[...Array(5)].map(() => (
                <svg class="w-5 h-5 text-gold fill-current" viewBox="0 0 24 24">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
              ))}
            </div>
            <p class="text-gold/80 text-sm">4.9/5 stars from North Texas businesses</p>
          </div>

          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-6">
            <a 
              href="/contact" 
              class="inline-flex items-center gap-2 bg-gradient-to-r from-gold to-goldLight text-black font-semibold px-8 py-4 rounded-xl hover:from-goldLight hover:to-gold transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-gold/20"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
              </svg>
              Get Your Free Local Consultation
            </a>
            
            <a 
              href="/contact" 
              class="inline-flex items-center gap-2 border border-gold/30 text-gold px-8 py-4 rounded-xl hover:border-gold hover:bg-gold/10 transition-all duration-300"
            >
              View Packages & Pricing
            </a>
          </div>

          <!-- Urgency elements -->
          <div class="text-xs text-gold/60 space-y-1">
            <div>🔥 Only 3 consultation slots left this week in North Texas</div>
            <div>⏰ Book within 24hrs for priority treatment</div>
            <div>🌟 Special pricing available for new North Texas clients</div>
          </div>

          <!-- Don't see your city section -->
          <div class="mt-8 pt-8 border-t border-gold/20">
            <h4 class="text-lg font-semibold text-goldLight mb-2">Don't see your city?</h4>
            <p class="text-gray-400 text-sm mb-4">We're expanding throughout Texas. Contact us about your area.</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
