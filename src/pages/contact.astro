---
import BaseLayout from '../layouts/BaseLayout.astro';
import AdvancedSEOHead from '../components/SEO/AdvancedSEOHead.astro';
import { BUSINESS } from '../data/constants';

const seoProps = {
  title: 'Contact The KPS Group | Free Business Consultation | Call (469) 534-3392',
  description: 'Get your free business consultation with The KPS Group. Expert QuickBooks consulting, payroll services, HR solutions, and technology consulting. Same-day response guaranteed. Call (469) 534-3392 or email sales@thekpsgroup.com.',
  keywords: [
    'contact KPS Group', 'free business consultation', 'QuickBooks consulting contact', 'payroll services inquiry',
    'HR services contact', 'technology consulting contact', 'business services consultation', 'Austin business consulting',
    'small business support contact', 'free consultation call', 'business operations consulting', 'The Modern Suite contact',
    'professional business services', 'certified QuickBooks ProAdvisor', 'business transformation consultation'
  ],
  serviceSchema: {
    name: 'Free Business Consultation',
    description: 'Complimentary business consultation covering QuickBooks setup, payroll services, HR solutions, and technology consulting',
    provider: 'The KPS Group',
    areaServed: ['United States', 'Texas', 'Austin', 'Dallas', 'Houston'],
    serviceType: 'Business Consultation Services',
    priceRange: 'Free'
  },
  businessSchema: {
    name: 'The KPS Group - Contact & Consultation',
    description: 'Professional business consultation services with same-day response guarantee. Expert solutions for small business success.',
    url: 'https://thekpsgroup.com/contact',
    telephone: '+1-469-534-3392',
    email: 'sales@thekpsgroup.com',
    address: {
      streetAddress: '',
      addressLocality: 'Austin',
      addressRegion: 'TX',
      postalCode: '',
      addressCountry: 'US'
    },
    services: [
      'Free Business Consultation',
      'QuickBooks Consulting Contact',
      'Payroll Services Inquiry',
      'HR Services Contact',
      'Technology Consulting Contact'
    ],
    priceRange: 'Free',
    openingHours: ['Mo-Fr 08:00-18:00']
  },
  breadcrumbs: [
    { name: 'Home', url: '/' },
    { name: 'Contact', url: '/contact' }
  ],
  faqSchema: [
    {
      question: 'How quickly will I get a response to my inquiry?',
      answer: 'We guarantee a same-day response to all consultation requests. Most inquiries receive a response within 2-4 hours during business hours (8 AM - 6 PM, Monday-Friday).'
    },
    {
      question: 'Is the initial consultation really free?',
      answer: 'Yes, absolutely! Our initial business consultation is completely free with no strings attached. We believe in demonstrating our value before asking for your investment.'
    },
    {
      question: 'What should I prepare for the consultation?',
      answer: 'Come as you are! We\'ll discuss your current challenges, business goals, and how our services can help. If you have specific questions about QuickBooks, payroll, or technology needs, feel free to bring those up.'
    },
    {
      question: 'Can you work with businesses outside of Texas?',
      answer: 'Yes! While we\'re based in Austin, Texas, we provide remote services to small and medium businesses across the United States through our Modern Suite platform.'
    }
  ]
};
---

<BaseLayout>
  <AdvancedSEOHead {...seoProps} slot="head" />
  <section class="relative section-mobile max-w-6xl mx-auto min-h-screen overflow-hidden">
    <!-- Enhanced background decoration -->
    <div class="absolute inset-0 bg-gradient-to-br from-black via-gray-950 to-black">
      <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(212,175,55,0.1)_0%,transparent_70%)]"></div>
    </div>
    
    <!-- Premium floating elements -->
    <div class="absolute top-1/4 left-1/4 w-64 sm:w-96 h-64 sm:h-96 bg-gradient-to-r from-gold/20 to-transparent rounded-full blur-3xl animate-float"></div>
    <div class="absolute bottom-1/4 right-1/4 w-48 sm:w-80 h-48 sm:h-80 bg-gradient-to-l from-gold/15 to-transparent rounded-full blur-3xl animate-float" style="animation-delay: -3s;"></div>
    
    <div class="relative z-10">
      <div class="text-center mobile-mb-12 sm:mb-16">
        <!-- Enhanced Professional Badge -->
        <div class="inline-flex items-center gap-2 sm:gap-3 glass-mobile mobile-mb-8 animate-fade-in-up">
          <div class="w-2 h-2 bg-gold rounded-full animate-pulse"></div>
          <span class="text-xs sm:text-sm font-medium text-gold tracking-widest uppercase font-serif">Free Consultation Available</span>
          <div class="w-2 h-2 bg-gold rounded-full animate-pulse"></div>
        </div>

        <h1 class="text-mobile-3xl font-bold text-white mobile-mb-8 leading-none animate-fade-in-up" style="animation-delay: 0.2s;">
          Let's Talk About Your 
          <span class="text-gradient-gold bg-size-200 animate-gradient block">Business</span>
        </h1>
        <p class="text-mobile-xl text-white/90 max-w-4xl mx-auto leading-relaxed mobile-mb-8 animate-fade-in-up" style="animation-delay: 0.4s;">
          Schedule a free consultation to discuss how we can help 
          <span class="text-gold font-medium">streamline your operations</span> and support your business growth.
        </p>
        
        <!-- Enhanced social proof and urgency -->
        <div class="flex flex-wrap justify-center items-center gap-4 sm:gap-6 lg:gap-8 text-xs sm:text-sm text-white/70 mobile-mb-8 animate-fade-in-up" style="animation-delay: 0.6s;">
          <div class="flex items-center gap-2 sm:gap-3 glass-effect px-3 sm:px-4 py-2 rounded-full">
            <div class="flex -space-x-1">
              <div class="w-6 sm:w-8 h-6 sm:h-8 bg-gold rounded-full flex items-center justify-center text-black text-xs font-bold border-2 border-white/20">K</div>
              <div class="w-6 sm:w-8 h-6 sm:h-8 bg-gold/80 rounded-full flex items-center justify-center text-black text-xs font-bold border-2 border-white/20">A</div>
              <div class="w-6 sm:w-8 h-6 sm:h-8 bg-gold/60 rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-white/20">B</div>
            </div>
            <span>Our C-Suite Team</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-gold" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span>300+ Successful Projects</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-gold" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
            </svg>
            <span>98% Client Satisfaction</span>
          </div>
        </div>
      </div>

    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16">
      <!-- Enhanced Contact Form with psychology -->
      <div class="group bg-gradient-to-br from-gray-900/90 to-gray-800/90 border border-goldDark/30 rounded-2xl p-6 sm:p-8 backdrop-blur-sm hover:border-gold/50 transition-all duration-300 animate-slide-in-left">
        <div class="flex items-center justify-between mb-6 sm:mb-8">
          <h2 class="text-xl sm:text-2xl font-semibold text-goldLight flex items-center gap-3">
            <div class="p-2 bg-gold/20 rounded-lg group-hover:bg-gold/30 transition-colors duration-300">
              <svg class="w-5 h-5 sm:w-6 sm:h-6 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
              </svg>
            </div>
            Book Your FREE Strategy Session
          </h2>
          <div class="text-right">
            <div class="text-lg font-bold text-gold">$0</div>
            <div class="text-xs text-gray-400 line-through">Usually $500</div>
          </div>
        </div>
        
        <!-- Value proposition -->
        <div class="bg-gradient-to-r from-gold/10 to-goldLight/10 rounded-xl p-4 mb-6 border border-gold/20">
          <h3 class="text-gold font-semibold mb-2 flex items-center gap-2">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            What You'll Get (Worth $2,500+):
          </h3>
          <ul class="text-sm text-gray-300 space-y-1">
            <li>✅ Complete brand audit & competitive analysis</li>
            <li>✅ Custom strategy roadmap for 10x growth</li>
            <li>✅ ROI projections & timeline breakdown</li>
            <li>✅ Exclusive pricing (up to 40% off packages)</li>
          </ul>
        </div>

        <!-- High-Converting Contact Form -->
        <form action="/api/contact" method="POST" class="space-y-4" id="contact-form" role="form" aria-labelledby="contact-form-title">
          <h2 id="contact-form-title" class="sr-only">Contact Information Form</h2>
          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-300 mb-2">Name *</label>
              <input
                type="text"
                id="name"
                name="name"
                required
                aria-required="true"
                aria-describedby="name-error"
                class="w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-warning-400 focus:ring-2 focus:ring-warning-400/20 transition-all"
                placeholder="Your full name"
              />
              <div id="name-error" class="text-red-400 text-sm mt-1 hidden" role="alert"></div>
            </div>
            
            <div>
              <label for="email" class="block text-sm font-medium text-gray-300 mb-2">Email *</label>
              <input
                type="email"
                id="email"
                name="email"
                required
                aria-required="true"
                aria-describedby="email-error"
                class="w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-warning-400 focus:ring-2 focus:ring-warning-400/20 transition-all"
                placeholder="your@email.com"
              />
              <div id="email-error" class="text-red-400 text-sm mt-1 hidden" role="alert"></div>
            </div>
          </div>

          <div class="grid sm:grid-cols-2 gap-4">
            <div>
              <label for="phone" class="block text-sm font-medium text-gray-300 mb-2">Phone</label>
              <input
                type="tel"
                id="phone"
                name="phone"
                aria-describedby="phone-error"
                class="w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-warning-400 focus:ring-2 focus:ring-warning-400/20 transition-all"
                placeholder="(555) 123-4567"
              />
              <div id="phone-error" class="text-red-400 text-sm mt-1 hidden" role="alert"></div>
            </div>
            
            <div>
              <label for="service" class="block text-sm font-medium text-gray-300 mb-2">Primary Interest *</label>
              <select
                id="service"
                name="service"
                required
                aria-required="true"
                aria-describedby="service-error"
                class="w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-warning-400 focus:ring-2 focus:ring-warning-400/20 transition-all cursor-pointer"
              >
                <option value="">Select a service</option>
                <option value="QuickBooks Consulting">💻 QuickBooks Consulting</option>
                <option value="Payroll Services">💼 Payroll Services</option>
                <option value="Business Consulting">🚀 Business Consulting</option>
                <option value="Technology Consulting">⚡ Technology Consulting</option>
                <option value="HVAC/Electrical">🔧 HVAC/Electrical Consulting</option>
                <option value="Complete Modern Suite">🌟 Complete Modern Suite</option>
              </select>
              <div id="service-error" class="text-red-400 text-sm mt-1 hidden" role="alert"></div>
            </div>
          </div>

          <div>
            <label for="message" class="block text-sm font-medium text-gray-300 mb-2">Tell us about your business *</label>
            <textarea
              id="message"
              name="message"
              required
              aria-required="true"
              aria-describedby="message-error"
              rows="4"
              class="w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-warning-400 focus:ring-2 focus:ring-warning-400/20 transition-all resize-none"
              placeholder="What challenges are you facing? What results are you looking for?"
            ></textarea>
            <div id="message-error" class="text-red-400 text-sm mt-1 hidden" role="alert"></div>
          </div>

          <!-- Submit Button with Loading State -->
          <button
            type="submit"
            class="w-full bg-warning-400 hover:bg-warning-300 text-black font-bold py-4 px-8 rounded-lg transition-all duration-300 hover:scale-105 focus:ring-4 focus:ring-warning-400/30 disabled:opacity-50 disabled:cursor-not-allowed"
            id="submit-btn"
          >
            <span id="submit-text">� Get My FREE Assessment</span>
            <span id="submit-loading" class="hidden">� Sending...</span>
          </button>

          <!-- Trust Signals -->
          <div class="text-center pt-4">
            <p class="text-sm text-gray-400">
              ✓ No spam, ever &nbsp;•&nbsp; ✓ Free consultation &nbsp;•&nbsp; ✓ Same-day response
            </p>
          </div>
        </form>
      </div>

      <!-- Enhanced Benefits & Social Proof -->
      <div class="space-y-6 sm:space-y-8 animate-slide-in-right">
        <!-- Why Choose Us -->
        <div class="bg-gradient-to-br from-gray-900/90 to-gray-800/90 border border-goldDark/30 rounded-2xl p-6 sm:p-8 backdrop-blur-sm hover:border-gold/50 transition-all duration-300">
          <h2 class="text-xl sm:text-2xl font-semibold text-goldLight mb-6 flex items-center gap-3">
            <div class="p-2 bg-gold/20 rounded-lg">
              <svg class="w-5 h-5 sm:w-6 sm:h-6 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
              </svg>
            </div>
            Why 250+ Businesses Choose Us
          </h2>
          
          <div class="space-y-4">
            <div class="group flex items-start gap-4 p-4 rounded-xl hover:bg-gold/5 transition-all duration-300">
              <div class="bg-gradient-to-br from-gold/20 to-goldLight/20 p-3 rounded-xl group-hover:from-gold/30 group-hover:to-goldLight/30 transition-all duration-300 flex-shrink-0">
                <svg class="w-5 h-5 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-goldLight group-hover:text-gold transition-colors duration-300">Lightning-Fast Delivery</h3>
                <p class="text-gray-300 text-sm">Get results in 7-14 days, not months. We prioritize speed without sacrificing quality.</p>
              </div>
            </div>
            
            <div class="group flex items-start gap-4 p-4 rounded-xl hover:bg-gold/5 transition-all duration-300">
              <div class="bg-gradient-to-br from-gold/20 to-goldLight/20 p-3 rounded-xl group-hover:from-gold/30 group-hover:to-goldLight/30 transition-all duration-300 flex-shrink-0">
                <svg class="w-5 h-5 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"/>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-goldLight group-hover:text-gold transition-colors duration-300">10x ROI Guarantee</h3>
                <p class="text-gray-300 text-sm">Our brands generate 900% more leads on average. Your investment pays for itself.</p>
              </div>
            </div>
            
            <div class="group flex items-start gap-4 p-4 rounded-xl hover:bg-gold/5 transition-all duration-300">
              <div class="bg-gradient-to-br from-gold/20 to-goldLight/20 p-3 rounded-xl group-hover:from-gold/30 group-hover:to-goldLight/30 transition-all duration-300 flex-shrink-0">
                <svg class="w-5 h-5 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-goldLight group-hover:text-gold transition-colors duration-300">100% Satisfaction Promise</h3>
                <p class="text-gray-300 text-sm">Unlimited revisions until you're thrilled. We don't stop until you love it.</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Client Success Story -->
        <div class="bg-gradient-to-br from-gray-900/80 to-gray-800/80 rounded-2xl p-6 border border-goldDark/30 backdrop-blur-sm hover:border-gold/50 transition-all duration-300">
          <div class="flex items-start gap-4 mb-4">
            <div class="w-12 h-12 bg-gradient-to-br from-gold/30 to-goldLight/30 rounded-full flex items-center justify-center flex-shrink-0">
              <span class="text-lg font-bold text-gold">💬</span>
            </div>
            <div>
              <div class="flex text-gold mb-2">
                <svg class="w-4 h-4 fill-current" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                <svg class="w-4 h-4 fill-current" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                <svg class="w-4 h-4 fill-current" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                <svg class="w-4 h-4 fill-current" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                <svg class="w-4 h-4 fill-current" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
              </div>
              <blockquote class="text-gray-300 text-sm leading-relaxed mb-3">
                "The KPS Group transformed our organizational culture in just 90 days. Our employee engagement scores increased 300%, and we're retaining top talent while attracting exceptional candidates. The ROI on leadership development was immediate and transformational."
              </blockquote>
              <div class="text-goldLight font-medium text-sm">Sarah Chen, CEO</div>
              <div class="text-gray-400 text-xs">TechFlow Solutions • 85% Employee Retention Rate</div>
            </div>
          </div>
        </div>

        <!-- Contact Information -->
        <div class="bg-gradient-to-br from-gray-900/90 to-gray-800/90 border border-goldDark/30 rounded-2xl p-6 sm:p-8 backdrop-blur-sm hover:border-gold/50 transition-all duration-300">
          <h2 class="text-xl sm:text-2xl font-semibold text-goldLight mb-6 flex items-center gap-3">
            <div class="p-2 bg-gold/20 rounded-lg">
              <svg class="w-5 h-5 sm:w-6 sm:h-6 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
            </div>
            Prefer to Talk Directly?
          </h2>
          
          <div class="space-y-4">
            <div class="group flex items-start gap-4 p-4 rounded-xl hover:bg-gold/5 transition-all duration-300">
              <div class="bg-gradient-to-br from-gold/20 to-goldLight/20 p-3 rounded-xl group-hover:from-gold/30 group-hover:to-goldLight/30 transition-all duration-300 flex-shrink-0">
                <svg class="w-5 h-5 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-goldLight group-hover:text-gold transition-colors duration-300">Direct Line</h3>
                <a href="tel:4695343392" class="text-gray-300 hover:text-gold transition-colors duration-300 text-sm font-medium">
                  {BUSINESS.phone}
                </a>
                <p class="text-xs text-gray-400 mt-1">Mon-Fri 9AM-6PM CST</p>
              </div>
            </div>
            
            <div class="group flex items-start gap-4 p-4 rounded-xl hover:bg-gold/5 transition-all duration-300">
              <div class="bg-gradient-to-br from-gold/20 to-goldLight/20 p-3 rounded-xl group-hover:from-gold/30 group-hover:to-goldLight/30 transition-all duration-300 flex-shrink-0">
                <svg class="w-5 h-5 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-semibold text-goldLight group-hover:text-gold transition-colors duration-300">Email</h3>
                <a href="mailto:sales@thekpsgroup.com" class="text-gray-300 hover:text-gold transition-colors duration-300 text-sm break-all font-medium">
                  {BUSINESS.email}
                </a>
                <p class="text-xs text-gray-400 mt-1">&lt; 2 hour response time</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Urgency Element -->
        <div class="bg-gradient-to-r from-gold/10 to-goldLight/10 rounded-xl p-6 border border-gold/30 backdrop-blur-sm text-center">
          <div class="flex items-center justify-center gap-2 mb-3">
            <svg class="w-5 h-5 text-gold animate-pulse" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
            </svg>
            <h3 class="font-semibold text-gold">⚡ Act Fast!</h3>
          </div>
          <p class="text-gray-300 text-sm mb-3">
            We're currently booking <strong class="text-gold">40% faster</strong> than usual. 
            Book now to secure priority treatment and exclusive pricing.
          </p>
          <div class="text-xs text-gray-400">
            🔥 Only 3 consultation slots left this week
          </div>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  // Enhanced form submission with loading states and conversion tracking
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const submitText = document.getElementById('submit-text');
    const submitLoading = document.getElementById('submit-loading');
    const submitStatus = document.getElementById('submit-status');

    if (form && submitBtn && submitText && submitLoading) {
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        // Show loading state with accessibility announcements
        submitBtn.disabled = true;
        submitBtn.setAttribute('aria-busy', 'true');
        submitText.classList.add('hidden');
        submitLoading.classList.remove('hidden');
        if (submitStatus) {
          submitStatus.textContent = 'Submitting form, please wait...';
        }

        try {
          const formData = new FormData(form);
          
          // Track form submission attempt
          if (typeof gtag !== 'undefined') {
            gtag('event', 'form_submit_attempt', {
              event_category: 'Contact',
              event_label: 'Contact Form'
            });
          }

          const response = await fetch('/api/contact', {
            method: 'POST',
            body: formData
          });

          if (response.ok) {
            // Track successful submission
            if (typeof gtag !== 'undefined') {
              gtag('event', 'form_submit_success', {
                event_category: 'Contact',
                event_label: 'Contact Form',
                value: 1
              });
            }
            
            // Success - redirect to thank you page
            window.location.href = '/thank-you?source=contact';
          } else {
            throw new Error('Form submission failed');
          }
        } catch (error) {
          console.error('Form error:', error);
          
          // Track form error
          if (typeof gtag !== 'undefined') {
            gtag('event', 'form_submit_error', {
              event_category: 'Contact',
              event_label: 'Contact Form'
            });
          }
          
          alert('There was an error sending your message. Please try again or call us directly at (469) 534-3392.');
        } finally {
          // Reset button state with accessibility announcements
          submitBtn.disabled = false;
          submitBtn.removeAttribute('aria-busy');
          submitText.classList.remove('hidden');
          submitLoading.classList.add('hidden');
          if (submitStatus) {
            submitStatus.textContent = '';
          }
        }
      });

      // Real-time form validation
      const inputs = form.querySelectorAll('input[required], select[required], textarea[required]');
      inputs.forEach(input => {
        input.addEventListener('blur', validateField);
        input.addEventListener('input', clearErrors);
      });

      function validateField(e) {
        const field = e.target;
        const value = field.value.trim();
        const errorDiv = document.getElementById(`${field.name}-error`);
        
        // Clear existing errors
        field.classList.remove('border-red-500', 'ring-red-500');
        if (errorDiv) {
          errorDiv.classList.add('hidden');
          errorDiv.textContent = '';
        }
        
        // Required field validation
        if (!value && field.required) {
          showFieldError(field, errorDiv, 'This field is required');
          return false;
        }
        
        // Email validation
        if (field.type === 'email' && value) {
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(value)) {
            showFieldError(field, errorDiv, 'Please enter a valid email address');
            return false;
          }
        }
        
        // Phone validation (basic)
        if (field.type === 'tel' && value) {
          const phoneRegex = /^[\(\)\d\s\-\+\.]{10,}$/;
          if (!phoneRegex.test(value)) {
            showFieldError(field, errorDiv, 'Please enter a valid phone number');
            return false;
          }
        }
        
        // Select validation
        if (field.tagName === 'SELECT' && field.required && !value) {
          showFieldError(field, errorDiv, 'Please make a selection');
          return false;
        }
        
        return true;
      }

      function showFieldError(field, errorDiv, message) {
        field.classList.add('border-red-500', 'ring-red-500');
        if (errorDiv) {
          errorDiv.textContent = message;
          errorDiv.classList.remove('hidden');
        }
      }

      function clearErrors(e) {
        const field = e.target;
        const errorDiv = document.getElementById(`${field.name}-error`);
        field.classList.remove('border-red-500', 'ring-red-500');
        if (errorDiv) {
          errorDiv.classList.add('hidden');
          errorDiv.textContent = '';
        }
      }
    }
  });
</script>

<style>
  /* Enhanced form styling */
  #contact-form input:focus, 
  #contact-form select:focus, 
  #contact-form textarea:focus {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(248, 214, 115, 0.15);
  }

  /* Loading animation */
  #submit-loading::after {
    content: '';
    display: inline-block;
    width: 16px;
    height: 16px;
    margin-left: 8px;
    border: 2px solid #000;
    border-radius: 50%;
    border-top-color: transparent;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* Error state styling */
  .border-red-500 {
    border-color: #ef4444 !important;
  }
  
  .ring-red-500 {
    --tw-ring-color: rgba(239, 68, 68, 0.2) !important;
  }
</style>
